<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title><ui:insert name="title_page"></ui:insert></title>
	<ui:insert name="conteudoExterno"></ui:insert>
	<h:outputStylesheet library="css" name="estiloGeral.css" />
</h:head>

<body>
	<div id="geral">
		<ui:insert name="topo">
			<div id="topo">
				<p:graphicImage value="/images/LogoPlamanSubititle.png" />
			</div>
		</ui:insert>

		<div id="conteudo">
			<div id="menu">
				<ui:insert name="menu">
					<div>
						<h:form>
							<p:toolbar>
								<f:facet name="left">
									<p:commandButton value="home"
										action="/index.xhtml?faces-redirect=true" />

									<p:menuButton value="Colaboradores"
										rendered="#{not facesContext.externalContext.isUserInRole('solicitacoes')}">
										<p:menuitem value="Listar Colaborador"
											action="/colaborador/colaboradorIndex.xhtml?faces-redirect=true" />
										<p:menuitem value="Cadastrar"
											action="/colaborador/formularioColab.xhtml?faces-redirect=true" />
									</p:menuButton>

									<p:commandButton type="button" value="Departamento"
										rendered="#{not facesContext.externalContext.isUserInRole('solicitacoes')}" />

									<p:menuButton value="Solicitações">
										<p:menuitem value="Abrir Solicitação"
											outcome="/solicitacaoServico/gerarSolicitacao" />
										<p:menuitem value="Solicitações Feitas" />
									</p:menuButton>

									<p:menuButton value="Ordem de Serviço">
										<p:menuitem value="Criar Ordem Preventiva"
											rendered="#{not facesContext.externalContext.isUserInRole('solicitacoes')}" />
										<p:menuitem value="Criar Ordem Corretiva"
											rendered="#{not facesContext.externalContext.isUserInRole('solicitacoes')}" />
										<p:menuitem value="Listar Ordens" />
										<p:menuitem value="Ver Relatório"
											rendered="#{not facesContext.externalContext.isUserInRole('solicitacoes')}" />
									</p:menuButton>
								</f:facet>

								<f:facet name="right">
									<div id="helloUser">

										<span class="txtBenvindo"> <h:outputLabel
												value="Bem vindo" />
										</span>

										<!-- Caso o usuario seja o desenvolvedor estes campos serão exibidos -->
										<span class="usuarioLogado"> <h:outputLabel
												value=" #{segurancaBean.colaboradorLogado.nome} 
											#{segurancaBean.colaboradorLogado.sobrenome}"
												rendered="#{not empty segurancaBean.colaboradorLogado.nome}" />
										</span> <span class="txtSetor"> <h:outputLabel value="Setor:" />
										</span> <span class="setorUsuario"><h:outputLabel
												value="#{segurancaBean.colaboradorLogado.setor.nome}"
												rendered="#{not empty segurancaBean.colaboradorLogado.nome}" />
										</span>

									</div>

									<div class="logout">
										<p:commandLink value="sair" action="#{segurancaBean.logout}" />
									</div>
								</f:facet>
							</p:toolbar>
						</h:form>
					</div>
				</ui:insert>
			</div>
			<ui:insert name="conteudo"> ESTA CHAMANDO DO TEMPLATE GERAL</ui:insert>

			<div class="clear"></div>
		</div>

		<div id="rodape">
			Sistema desenvolvido por <span style="color: #FF0011">Maique
				Rosa</span>, acesse o github
			<h:outputLink value="https://github.com/domzinhuu" target="_blank"
				style="color:red;">@maique.rosa</h:outputLink>
			para conhecer a documentação.<br /> Locar Pipe - Plaman OS 2014
		</div>
	</div>
</body>
</html>
