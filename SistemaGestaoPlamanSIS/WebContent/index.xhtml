<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/template/templateGeral.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui">



	<ui:define name="conteudo">
		<div>
			<h:form>
				<div id="info1">
					<p:panel header="Informações do Setor" style="height:280px">
						<p:panel>
      			Hà <span style="color: blue;">#{solicitacaoBean.qntSolicitacaoAberta}</span> Solicitações em aberto 
      		</p:panel>
						<p:panel>
      			Hà <span style="color: blue;">#{solicitacaoBean.qntOrdemoAberta}</span> ordens de serviço aberta para o seu setor
      		</p:panel>
					</p:panel>
				</div>

				<div id="info2">
					<p:panel header="Outras Informações" style="height:280px">
						<p:panel>
      			Hà <span style="color: blue;">#{solicitacaoBean.qntSolicitacaoAberta}</span> Solicitações em aberto 
      		</p:panel>
						<p:panel>
      			Hà <span style="color: blue;">#{solicitacaoBean.qntOrdemoAberta}</span> ordens de serviço aberta para o seu setor
      		</p:panel>
					</p:panel>
				</div>

				<div id="info3">
					<p:panel header="Relatorio" style="height:280px">
						<p:panel>
      			Hà <span style="color: blue;">#{solicitacaoBean.qntSolicitacaoAberta}</span> Solicitações em aberto 
      		</p:panel>
						<p:panel>
      			Hà <span style="color: blue;">#{solicitacaoBean.qntOrdemoAberta}</span> ordens de serviço aberta para o seu setor
      		</p:panel>
					</p:panel>
				</div>

				<div id="tabelaUltimas">
					<p:panel header="Ultimas ordens geradas" style="height:250px">
						<p:dataTable value="#{solicitacaoBean.ultimasOrdens}" var="item"
							emptyMessage="Não há nenhuma ordem lançada para o seu setor">
							<p:column>
      							Numero: <span class="txtValor">OSN#{item.id}</span>
							</p:column>
							<p:column style="width:300px">
      							Tipo de trabalho: <span class="txtValor">#{item.tipoTrabalho}</span>
							</p:column>
							<p:column>
      							Status: <span class="txtValor">#{item.status}</span>
							</p:column>
							<p:column>
								<ui:repeat var="itOrdem" value="#{item.itensOrdem}">
      								Equip: <span class="txtValor">#{itOrdem.solicitacaoServico.equipamento}</span>
								</ui:repeat>
							</p:column>
							<p:column>
      							Criada Em: <h:outputLabel value="#{item.dataCriacao}"
									styleClass="txtValor">
									<f:convertDateTime pattern="dd/MM/yyyy" />
								</h:outputLabel>
							</p:column>
						</p:dataTable>
					</p:panel>
				</div>
			</h:form>
		</div>
	</ui:define>
</ui:composition>